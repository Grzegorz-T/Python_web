{% extends "form.html" %}
{% block content %}
<table class="table table-striped table-hover sticky">
    <thead class="thead-dark">
        <tr>
            <th scope="col">#</th>
            <th scope="col">Stock
                <button type="submit" class="btn btn-outline-secondary" name={{1}}>^</button>
            </th>
            <th scope="col">Price
                <button type="submit" class="btn btn-outline-secondary" name={{2}}>^</button>
            </th>
            <th scope="col">Change
                <button type="submit" class="btn btn-outline-secondary" name={{3}}>^</button>
            </th>
            <th scope="col">Change perc
                <button type="submit" class="btn btn-outline-secondary" name={{4}}>^</button>
            </th>
            <th scope="col">Opening
                <button type="submit" class="btn btn-outline-secondary" name={{5}}>^</button>
            </th>
            <th scope="col">Max
                <button type="submit" class="btn btn-outline-secondary" name={{6}}>^</button>
            </th>
            <th scope="col">Min
                <button type="submit" class="btn btn-outline-secondary" name={{7}}>^</button>
            </th>
            <th scope="col">Buy/Sell</th>
            <th scope="col">O/V</th>
            <th scope="col">Profit</th>
        </tr>
    </thead>
    <tbody id="stocks">
        {% for stock in stocks %}
        <tr>
            <td>{{stocks.index(stock)+1}}</td>
            <td id="name{{stock['id']}}">{{stock['name']}}</td>
            <td id="price{{stock['id']}}">{{stock['price']}}</td>
            <td id="change{{stock['id']}}">{{stock['change']}}</td>
            <td id="perc{{stock['id']}}">{{stock['perc']}}%</td>
            <td id="opening{{stock['id']}}">{{stock['opening']}}</td>
            <td id="stock_max{{stock['id']}}">{{stock['stock_max']}}</td>
            <td id="stock_min{{stock['id']}}">{{stock['stock_min']}}</td>
            <td>
                <form class="form-inline">
                    <div>
                        <input type="number" class="form-control" id="Stock_Input{{stock['id']}}" min="0" max="100000" value="0">
                        <button id="buy_button{{stock['id']}}" type="button" class="btn btn-outline-success" row_id="{{stocks.index(stock)}}" member_id="{{stock['id']}}">B</button>
                        <button id="sell_button{{stock['id']}}" type="button" class="btn btn-outline-danger" row_id="{{stocks.index(stock)}}" member_id="{{stock['id']}}">S</button>
                    </div>
                </form>
            </td>
            <td>
                <div id="quantity{{stock['id']}}">Owned: {{bought_stocks[stock['id']]['quantity']}}</div>
                <div id="value{{stock['id']}}">Value: {{bought_stocks[stock['id']]['value']}}$</div>
            </td>
            <td id="profit{{stock['id']}}">{{bought_stocks[stock['id']]['profit']}}%</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}